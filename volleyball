-- script made by ches
-- caet created gravity ðŸ—£

gravity = 0.95
heighthit = 20

local loops = {}

local spawn1
local spawn2
local spawn3

local plr = game.Players.LocalPlayer
local char = plr.Character

settings().Physics.PhysicsEnvironmentalThrottle = Enum.EnviromentalPhysicsThrottle.Disabled; settings().Physics.AllowSleep = false
local simloop = game:GetService("RunService").Heartbeat:Connect(function() sethiddenproperty(plr, "MaximumSimulationRadius",1000) sethiddenproperty(plr, "SimulationRadius",1000) end) 
table.insert(loops,simloop)


local model = game:GetObjects("rbxassetid://10266756427")[1]
model.Parent = workspace

for _,v in pairs(model:GetDescendants()) do
    if v:IsA("BasePart") or v:IsA("Part") then
        v.Anchored = true 
    end    
end    

model:MoveTo(char.HumanoidRootPart.Position + Vector3.new(20,0,0))

char.BaseballBat.Name = "BaseballBat1"
char.BaseballBat.Name = "BaseballBat2"

local hats = {
    "Hat1",
    "Pal Hair",
    "BaseballBat1",
    "BaseballBat2",
    "Kate Hair",
    "Pink Hair",
    "LavanderHair",
    "BaseballBat",
    "Robloxclassicred"
}

local function CFrameFunc(nam,party)
    
    char[nam].Handle.AccessoryWeld:Destroy()
    
    local velloop = game:GetService("RunService").Heartbeat:Connect(function()
        char[nam].Handle.Velocity = Vector3.new(0,50,0)
    end) 
    table.insert(loops, velloop)
    
    if string.find(nam, "Baseball") then
        local cfloop = game:GetService("RunService").Heartbeat:Connect(function()
            char[nam].Handle.CFrame = party.CFrame
        end)   
        table.insert(loops, cfloop)
    else
        local cfloop = game:GetService("RunService").Heartbeat:Connect(function()
            char[nam].Handle.CFrame = party.CFrame * CFrame.Angles(math.rad(90),0,0)
        end) 
        table.insert(loops, cfloop)
    end    
    
    -- extra
    
    if nam == "MeshPartAccessory" then
        Instance.new("BodyPosition",char[nam].Handle) 
    end    
    
    local mesh = char[nam].Handle:FindFirstChild("Mesh") or char[nam].Handle:FindFirstChild("SpecialMesh")
        mesh:Destroy()
    
    spawn2 = task.spawn(function()
        
        task.wait(0.5)
        if nam ~= "MeshPartAccessory" then
            char[nam].Handle.Anchored = true
        end
    end) 
end

local saveframe = char.HumanoidRootPart.CFrame
char.HumanoidRootPart.Anchored = true
char.HumanoidRootPart.CFrame = model:FindFirstChild("PrimaryPart").CFrame

task.wait(.5)

local volleyball = Instance.new("Part",workspace)
volleyball.Size = Vector3.new(6,6,6)
volleyball.Transparency = 1
volleyball.CanCollide = true
volleyball.Anchored = false
volleyball.CFrame = char.HumanoidRootPart.CFrame * CFrame.new(0,10,10)

CFrameFunc("MeshPartAccessory",volleyball)

for _,v in pairs(hats) do
    CFrameFunc(v,model[v]) 
end    

spawn3 = task.spawn(function() -- idk if this really matters cause its not in a loop
    task.wait(0.5)
    char.HumanoidRootPart.CFrame =  model:FindFirstChild("PrimaryPart").CFrame * CFrame.new(0,0,15)
    char.HumanoidRootPart.Anchored =  false
end)    

local bf = Instance.new("BodyForce",volleyball)

volleyball.Shape = Enum.PartType.Ball

local part = volleyball

bf.Force = Vector3.new(0,(workspace.Gravity * part:GetMass()) * gravity,0)

local cooldown = false
local dead = false

local touchloop

touchloop = part.Touched:Connect(function(partT)
	if game:GetService("Players"):GetPlayerFromCharacter(partT.Parent) then
		if not cooldown then
			spawn1 = spawn(function()
				cooldown = true
				--part.Velocity = partT.Parent.HumanoidRootPart.CFrame.LookVector * 6 * (model:FindFirstChild("PrimaryPart").Position - part.Position).Magnitude + Vector3.new(0,20,0)
				part.Velocity = partT.Parent.HumanoidRootPart.CFrame.LookVector * 6 + Vector3.new(0,heighthit,0)
				wait(.5)
				cooldown = false
			end)
		end
	end	
end)

local UIS = game:GetService("UserInputService")
local keydetection = UIS.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.V and not gameProcessed then
        for i = 1,10 do
            volleyball.CFrame = model:FindFirstChild("PrimaryPart").CFrame * CFrame.new(0,5,10)
            volleyball.Velocity = Vector3.new(0,0,0)
            volleyball.Orientation = Vector3.new(0,0,0)
            volleyball.RotVelocity = Vector3.new(0,0,0)
            task.wait()
        end
    end    
end)

model.Barriers:Destroy()

char.Humanoid.Died:Connect(function()
    
    spawn1:Disconnect()
    spawn2:Disconnect()
    spawn3:Disconnect()
    
    touchloop:Disconnect()
    keydetection:Disconnect()
    dead = true
    for _,v in pairs(loops) do
        v:Disconnect() 
    end    
    model:Destroy()
    volleyball:Destroy()
end)

game:GetService("StarterGui"):SetCore("SendNotification",{Title = "volleyball script",Text = "made by ches#8887 with help by caet", Duration = 10})
